<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>PENGTAL MVP</title>
  <style>
    html, body { margin:0; height:100%; background:#0b1220; font-family: system-ui, -apple-system, Segoe UI, Roboto, sans-serif; color:#e8f1ff; }
    #wrap { display:flex; flex-direction:column; height:100%; }

    #topbar{
      padding:10px 12px; display:flex; gap:10px; align-items:center; justify-content:space-between;
      border-bottom:1px solid rgba(255,255,255,.08); background:rgba(255,255,255,.03);
    }
    .left { display:flex; gap:10px; align-items:center; flex-wrap:wrap; }
    .pill{ padding:6px 10px; border-radius:999px; background:rgba(255,255,255,.08); font-size:13px; }
    button{
      background:rgba(255,255,255,.10); color:#e8f1ff; border:1px solid rgba(255,255,255,.14);
      padding:8px 12px; border-radius:10px; cursor:pointer;
    }
    button:disabled{ opacity:.45; cursor:not-allowed; }
    button:active{ transform: translateY(1px); }

    #game { flex:1; display:flex; align-items:center; justify-content:center; padding:14px; }
    canvas { width:min(92vw, 560px); height:min(92vw, 560px); border-radius:16px; background:rgba(255,255,255,.04); border:1px solid rgba(255,255,255,.10); touch-action:none; }

    /* toast */
    #msg {
      position:fixed; left:0; right:0; bottom:18px; display:flex; justify-content:center; pointer-events:none;
    }
    #msg > div{
      padding:10px 14px; border-radius:999px; background:rgba(0,0,0,.45); color:#fff; font-size:14px;
      border:1px solid rgba(255,255,255,.15); backdrop-filter: blur(8px);
      opacity:0; transform:translateY(8px); transition: all .18s ease;
    }
    #msg.show > div{ opacity:1; transform:translateY(0); }

    /* overlays */
    .overlay{
      position:fixed; inset:0; display:none; align-items:center; justify-content:center;
      background:rgba(0,0,0,.55); backdrop-filter: blur(6px);
      padding:18px;
    }
    .overlay.show{ display:flex; }
    .card{
      width:min(92vw, 440px);
      border-radius:18px;
      border:1px solid rgba(255,255,255,.12);
      background:rgba(15,20,35,.88);
      padding:16px;
      box-shadow: 0 20px 80px rgba(0,0,0,.45);
    }
    .title{ font-size:18px; font-weight:800; margin:0 0 8px; }
    .desc{ font-size:13px; opacity:.85; margin:0 0 14px; line-height:1.5; }
    .grid{
      display:grid; grid-template-columns: repeat(3, 1fr); gap:10px;
    }
    .bigBtn{
      padding:14px 10px;
      border-radius:14px;
      font-weight:700;
      border:1px solid rgba(255,255,255,.14);
      background:rgba(255,255,255,.08);
    }
    .row{ display:flex; gap:10px; justify-content:flex-end; margin-top:12px; }
    .rowBetween{ display:flex; gap:10px; justify-content:space-between; margin-top:12px; }
    .tiny{ font-size:12px; opacity:.8; }
    .centerBig{ font-size:28px; text-align:center; margin:12px 0; }
  </style>
</head>
<body>
<div id="wrap">
  <div id="topbar">
    <div class="left">
      <div class="pill"><b>í­íƒˆ MVP</b></div>
      <div class="pill" id="difficultyPill">â€”</div>
      <div class="pill">Moves: <span id="moves">0</span></div>
      <div class="pill">Time: <span id="time">0s</span></div>
      <div class="pill">Stars: <span id="totalStars">0</span></div>
    </div>
    <div class="left">
      <button id="btnHint" disabled>íŒíŠ¸</button>
      <button id="btnRestart" disabled>ë‹¤ì‹œì‹œì‘</button>
      <button id="btnMenu">ë©”ë‰´</button>
    </div>
  </div>

  <div id="game"><canvas id="c" width="600" height="600"></canvas></div>
</div>

<!-- Start Overlay -->
<div class="overlay show" id="startOverlay">
  <div class="card">
    <div class="title">í­íƒˆ</div>
    <p class="desc">í­ê·„ì„ ëˆŒëŸ¬ ë“œë˜ê·¸í•˜ë©´ ë°©í–¥ìœ¼ë¡œ ë¯¸ë„ëŸ¬ì§‘ë‹ˆë‹¤. ë²½/ì¥ì• ë¬¼/ë‹¤ë¥¸ í­ê·„ì— ë‹¿ì„ ë•Œê¹Œì§€ ì´ë™í•´ìš”.</p>
    <div class="row">
      <button class="bigBtn" id="btnStart">ê²Œì„ ì‹œì‘</button>
    </div>
    <div class="tiny" style="margin-top:10px;">* MVP: ìë™ ìƒì„± í¼ì¦ + ì‹œê°„ ë³„ ë³´ìƒ + í•´ê¸ˆ + íŒíŠ¸</div>
  </div>
</div>

<!-- Difficulty Overlay -->
<div class="overlay" id="diffOverlay">
  <div class="card">
    <div class="title">ë‚œì´ë„ ì„ íƒ</div>
    <p class="desc" id="unlockDesc">ë³„ì„ ëª¨ì•„ ë‚œì´ë„ë¥¼ í•´ê¸ˆí•˜ì„¸ìš”.</p>
    <div class="grid">
      <button class="bigBtn" id="diff1">1ë‹¨ê³„<br><span class="tiny">5Ã—5</span></button>
      <button class="bigBtn" id="diff2">2ë‹¨ê³„<br><span class="tiny">5Ã—5 Â· â­30 í•„ìš”</span></button>
      <button class="bigBtn" id="diff3">3ë‹¨ê³„<br><span class="tiny">7Ã—7 Â· â­60 í•„ìš”</span></button>
    </div>
    <div class="row">
      <button id="btnDiffBack">ë’¤ë¡œ</button>
    </div>
  </div>
</div>

<!-- Fail Overlay -->
<div class="overlay" id="failOverlay">
  <div class="card">
    <div class="title">í’ë©! ğŸ§ğŸ’¦</div>
    <p class="desc">ë¹™íŒ ë°–ìœ¼ë¡œ ë–¨ì–´ì¡Œì–´ìš”. ì§ì „ í¼ì¦ì„ ê·¸ëŒ€ë¡œ ë‹¤ì‹œ ì‹œì‘í• ê¹Œìš”?</p>
    <div class="row">
      <button class="bigBtn" id="btnFailRestart">ë‹¤ì‹œ ì‹œì‘í•˜ê¸°</button>
    </div>
  </div>
</div>

<!-- Clear Overlay -->
<div class="overlay" id="clearOverlay">
  <div class="card">
    <div class="title">í´ë¦¬ì–´! ğŸ‰</div>
    <p class="desc" id="clearTimeText">â€”</p>
    <div class="centerBig" id="starDisplay">â­â­â­</div>

    <div class="tiny" id="thresholdText" style="text-align:center; margin-top:-6px; opacity:.85;">
      â€” 
    </div>

    <div class="rowBetween">
      <button id="btnClearHome">í™ˆìœ¼ë¡œ</button>
      <button class="bigBtn" id="btnClearNext">ë‹¤ìŒ â–¶</button>
    </div>
  </div>
</div>

<div id="msg"><div id="msgText"></div></div>

<script src="./game.js"></script>
</body>
</html>
